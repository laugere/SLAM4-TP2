using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace SLAM4_TP2_Martin_laugere
{
    public class Exploitation
    {
        private int id_exploitation;
        private string nom_exploitant;
        private string mel_exploitant;
        private List<Parcelle> lesParcelles;

        public Exploitation(int id_e, string nom_e, string mel_e)
        {
            this.id_exploitation = id_e;
            this.nom_exploitant = nom_e;
            this.mel_exploitant = mel_e;
            lesParcelles = new List<Parcelle>();
        }

        public List<Parcelle> getListParcelles()
        {
            return this.lesParcelles;
        }

        public Int NbParcelles()
        {
            return this.lesParcelles.Count();
        }

        public bool AjouteParcelle(int id, DateTime ds, DateTime dr, int s)
        {
            if(NbParcelles() <= 10)
            {
                Parcelle Parcelle = new Parcelle(id, ds, dr, s);
                lesParcelles.Add(Parcelle);
                return true;
            }
            else
            {
                return false;
            }
        }

        public int SuperficieEspece(string unNomEspece)
        {
            foreach(Parcelle p in this.lesParcelles)
            {
                nomEspece = p.getLespece();
                if(unNomEspece == nomEspece.getNomEspece())
                {
                    return p.surface_parcelle;
                }
            }
        }
    }
}
